{"ts":1369741890718,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"package com.mb.stats.features\n\nimport com.mb.stats.features.base.RemoteServiceGebSpec\nimport com.mb.stats.features.fixture.UserHistoryFixtures\nimport com.mb.stats.features.verify.VerifyCorsHeader\nimport com.mb.stats.features.verify.VerifyExpiresHeader\nimport com.popcornteam.restclient.response.RestResponse\nimport grails.converters.JSON\n\n@Mixin([UserHistoryFixtures, VerifyExpiresHeader, VerifyCorsHeader])\nclass ListUserHistorySpec extends RemoteServiceGebSpec {\n\n    def \"list between\"() {\n\n        given:\n        def fixtures = userHistoryFixtures(3)\n\n        when:\n        RestResponse r = jsonClient.get('v1/teams/62/users/user/history?timestampBegin=0&timestampEnd=101')\n        def j = JSON.parse r.bodyAsString\n\n        then:\n        verifyCacheExpireByNextUpdate(r)\n        verifyCorsHeader(r)\n        j.total == 3\n        j.results == fixtures\n    }\n}\n"]],"start1":0,"start2":0,"length1":0,"length2":863}]],"length":863}
